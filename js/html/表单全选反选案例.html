<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../functions.js"></script>
    <style>
        .wrapper{
            margin: 50px auto 0;
        }

        table {
            margin: 0 auto;
            border-collapse: collapse;
        }

        table th {
            border: none;
            background-color: #00a4ff;
            color: white;
        }

        table td {
            font-size: 18px;
            padding: 3px 30px;
        }

        table th {
            font-size: 20px;
            padding: 2px 30px;
        }

        /*选择被勾选的复选框     :checked */
        #checked__:checked {

        }

    </style>
</head>
<body>
    <div class="wrapper">
        <table border="1">
            <tr>
                <th>
                    <label>
                        <input type="checkbox" class="all">
                    </label>
                    全选
                </th>
                <th>商品</th>
                <th>商家</th>
                <th>价格</th>
            </tr>
            <tr>
                <td>
                    <label>
                        <input type="checkbox" class="phone">
                    </label>
                </td>
                <td>
                    小米手机
                </td>
                <td>
                    小米
                </td>
                <td>
                    ￥ 1999
                </td>
            </tr>
            <tr>
                <td>
                    <label>
                        <input type="checkbox" class="water">
                    </label>
                </td>
                <td>
                    小米净水器
                </td>
                <td>
                    小米
                </td>
                <td>
                    ￥ 4999
                </td>
            </tr>
            <tr>
                <td>
                    <label>
                        <input type="checkbox" class="ds">
                    </label>
                </td>
                <td>
                    小米电视
                </td>
                <td>
                    小米
                </td>
                <td>
                    ￥ 5999
                </td>
            </tr>
        </table>
    </div>

    <script>
        // 方法 1
        let value = 0
        addEvent(miku('.phone'), 'click', function () {
            if (this.checked) {
            value++
            } else {
                value--
            }

            value === 3 ? miku('.all').checked = true : miku('.all').checked = false
        })

        addEvent(miku('.water'), 'click', function () {
            if (this.checked) {
                value++
            } else {
                value--
            }

            value === 3 ? miku('.all').checked = true : miku('.all').checked = false
        })

        addEvent(miku('.ds'), 'click', function () {
            if (this.checked) {
                value++
            } else {
                value--
            }

            value === 3 ? miku('.all').checked = true : miku('.all').checked = false
        })

        const arr = [
            '.phone',
            '.water',
            '.ds'
        ]

        addEvent(miku('.all'), 'click', function () {
            if (this.checked) {
                value = 3
                console.log(true)
                for (let i = 0; i < arr.length; i++) {
                    console.log(miku(arr[i]))
                    miku(arr[i]).checked = this.checked
                }
            } else {
                value = 0
                console.log(false)
                for (let i = 0; i < arr.length; i++) {
                    console.log(miku(arr[i]))
                    miku(arr[i]).checked = this.checked
                }
            }
        })

        // 方法 2
        /*const arr = mikus('.ck')
        let value = 0
        for (let i = 0; i < arr.length; i++) {
            addEvent(arr[i], 'click', function () {
                if (this.checked) {
                    value++
                } else {
                    value--
                }

                value === 3 ? miku('.all').checked = true : miku('.all').checked = false
            })
        }

        addEvent(miku('.all'), 'click', function () {
            if (this.checked) {
                value = 3
                for (let i = 0; i < arr.length; i++) {
                    arr[i].checked = this.checked
                }
            } else {
                value = 0
                for (let i = 0; i < arr.length; i++) {
                    arr[i].checked = this.checked
                }
            }
        })*/
    </script>
</body>
</html>